<!DOCTYPE html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link type="text/css" href="/css/diag2img.css" rel="stylesheet" />
<link type="text/css" href="/css/humanity/jquery-ui-1.8.14.custom.css" rel="stylesheet" />
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">google.load("jquery", "1.5");</script>
<script type="text/javascript">google.load("jqueryui", "1.8");</script>
<script type="text/javascript" src="/js/jquery.autoResizeTextAreaQ-0.1.js"></script>
<script type="text/javascript" src="/js/blockdiag.js"></script>
<title>{{ type }}diag2img</title>
</head>
<body>

<p class="selector">
Other services:
<a href="/block">blockdiag</a> /
<a href="/seq">seqdiag</a> /
<a href="/act">actdiag</a> /
<a href="/nw">nwdiag</a>
</div>

<h1>{{ type }}diag2img (based version: {{ vers }})</h1>

<div id="jqtab">
  <ul>
    <li><a href="#diagram"><span>Diagram</span></a></li>
    <li><a href="#descr"><span>Documentation</span></a></li>
  </ul>

<div id="diagram">

<h2>Diagram Source</h2>

<form id="json" method="post" action="/{{ type }}/" onsubmit="return genURL()">
  <textarea id="diagram" cols="120" rows="10" style="font-family: monospace; background-color: #ffffff;">
{{ plain }}
  </textarea>
  <input id="jsonid" type="hidden" name="myvalue" />
  <input type="submit" value="Regenenerate image" />
</form>

<hr>

<h2>Image</h2>

Permalink of the image is <a href="/{{ type }}/{{ diag }}.png">here</a>

<p>

<span id="message"></span>
<img id="dia" src="/{{ type }}/{{ diag }}.png" alt="diagram image" />

</p>

</div>

<div id="descr">

<h2>Site Description</h2>

<ul>
<li> This site is inspired by <a href="http://interactive.blockdiag.com/">Interactive shell for blockdiag</a> and aimed to generate permalink of the PNG image of a diagram, which can be put on wiki page and web presentation directly just by using &lt;img src=""&gt; tag
<li> Any images are not stored in the server except of memory cache
<li> The source code is available at <a href="https://github.com/sumikawa/diag2img">github</a>
<li> Special thanks to @tkomiya who developed great softwares
</ul>

<h2>URL scheme</h2>

Editing URL: http://diag2img.don.to/TYPE/DIAG <br />
Image URL: http://diag2img.don.to/TYPE/DIAG.png <br />

<ul>
<li> TYPE means type of *diag such as 'block', 'nw' for example
<li> DIAG is generated from the diagram source. It is base64-encoded ('/' is relaced with '-') after compressed by bzip2
</ul>

<hr>

<div id="name">SUMIKAWA Munechika / Daydreamers On the Net</div>

</div>

</div>

<script type="text/javascript">
  $(function() {
    $("#jqtab").tabs();
  });
</script>

</body>
</html>
